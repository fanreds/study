<?xml version="1.0" encoding="UTF-8"?>
<!--
  Created by IntelliJ IDEA.
  User: kleks
  Date: 1/29/13
  Time: 10:35 AM
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:rich="http://richfaces.org/rich">
<!--<f:metadata>-->
<!--<f:viewParam name="page" value="#{symptomList.pageName}"/>-->
<!--<f:viewParam name="page" value="#{diseaseList.pageName}"/>-->
<!--</f:metadata>-->
<f:view locale="#{localeSelector.selectedLocale}">
    <h:head>
        <title>
            <ui:insert name="windowTitle">
                <!--#{msgs.placesWindowTitle}-->
            </ui:insert>
        </title>
        <!--<h:outputStylesheet library="css" name="style.css" />-->
        <link href="#{request.contextPath}/resource/css/style.css" media="screen" rel="stylesheet" type="text/css"/>
        <script type="text/javascript" src="#{request.contextPath}/resource/logo.js"></script>
    </h:head>

    <h:body onload="getMargin()">
        <rich:notifyMessages globalOnly="true" nonblocking="true" nonblockingOpacity="0.6" onclick="$(this).hide()"/>
        <div id="kontener">
            <div id="naglowek"></div>
            <div id="middle">
                <div id="menu">
                    <h:form>
                        <h:selectOneListbox size="1" value="#{localeSelector.selectedLocale}"
                                            onchange="this.form.submit()" converter="#{localeSelector.converter}">
                            <f:selectItems value="#{localeSelector.availableLocales}" var="locale" itemValue="#{locale}"
                                           itemLabel="#{locale.displayName}"/>
                        </h:selectOneListbox>
                    </h:form>

                    <ui:insert name="menuleft"/>

                    <h:button value="#{messages['view.menu.shared.files']}" outcome="/view/private/home"
                              styleClass="menuButton"/>
                    <h:button value="#{messages['view.menu.upload.files']}" outcome="/view/private/upload"
                              styleClass="menuButton"/>
                    <h:button value="#{messages['view.menu.share.manager']}" outcome="/view/private/fileAccess"
                              styleClass="menuButton"/>
                    <h:button value="#{messages['view.menu.send.message']}" outcome="/view/private/message"
                              styleClass="menuButton"/>
                    <h:button value="#{messages['view.menu.inbox']}" outcome="/view/private/inbox"
                              styleClass="menuButton"/>
                    <h:button value="#{messages['view.menu.sentbox']}" outcome="/view/private/sentbox"
                              styleClass="menuButton"/>
                    <!--<h:button value="test" outcome="/view/test" styleClass="menuButton"/>-->
                    <h:panelGroup rendered="#{not identity.loggedIn}">
                        <h:button value="#{messages['view.menu.login']}" outcome="/view/login" styleClass="menuButton"/>
                    </h:panelGroup>
                    <h:panelGroup rendered="#{identity.loggedIn}">
                        <h:button value="#{messages['view.menu.change.password']}" outcome="/view/private/changePass"
                                  styleClass="menuButton"/>
                        <h:form>
                            <h:commandButton value="#{messages['view.menu.logout']}" action="#{loginView.logout}"
                                             styleClass="menuButton"/>
                        </h:form>
                    </h:panelGroup>
                </div>

                <div id="content">
                    <ui:insert name="content"/>
                    <rich:messages ajaxRendered="true"/>
                </div>
            </div>

            <div id="stopka">Marcin Nowak</div>
        </div>
    </h:body>
</f:view>
</html>